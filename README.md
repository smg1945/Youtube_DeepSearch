# YouTube DeepSearch

YouTube Data API를 활용한 고급 영상 검색 및 분석 도구입니다.

## 주요 기능

### 1. 고급 영상 검색
- **키워드 검색**: 원하는 키워드로 YouTube 영상 검색
- **영상 유형 필터**: 전체/쇼츠/롱폼/시간대별 필터 (20-30분, 30-50분, 50분 이상)
- **조회수 필터**: 드롭다운으로 최소 조회수 설정 (1,000 ~ 1,000,000)
- **구독자 수 필터**: 드롭다운으로 최대 구독자 수 설정 (1,000 ~ 10,000,000)
- **업로드 기간 필터**: 1일, 1주일, 1개월, 3개월, 1년 선택
- **실시간 진행 상황**: 검색 진행 상황을 프로그레스 바로 표시

### 2. 검색 결과 분석
- **상세 정보 표시**: 영상 제목, 조회수, Outlier Score, 영상 길이, 구독자 수, 채널명
- **정렬 기능**: 모든 컬럼 헤더 클릭으로 오름차순/내림차순 정렬
- **Outlier Score**: 조회수 대비 구독자 수 비율을 통한 이상치 점수 계산
- **영상 바로가기**: 더블클릭으로 YouTube 영상 페이지 이동

### 3. 채널 심층 분석
- **채널 분석 창**: 선택한 영상의 채널에 대한 상세 분석
- **채널 영상 목록**: 해당 채널의 모든 영상 목록 표시
- **체크박스 선택**: 체크박스를 통한 직관적인 다중 선택 시스템
- **실시간 선택 상태**: 선택된 영상 수를 실시간으로 표시

### 4. 데이터 추출 기능
- **제목 추출**: 선택한 영상들의 제목, URL, 조회수, 게시일을 텍스트 파일로 저장
- **썸네일 추출**: 선택한 영상들의 썸네일 이미지를 폴더에 일괄 다운로드
- **대본 추출**: 선택한 영상들의 자막/대본을 텍스트 파일로 추출

## 설치 및 설정

### 1. 필요 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. YouTube Data API 키 설정
1. [Google Cloud Console](https://console.developers.google.com/apis/credentials)에 접속
2. 새 프로젝트 생성 또는 기존 프로젝트 선택
3. YouTube Data API v3 활성화
4. API 키 생성
5. `config.py` 파일에서 `YOUTUBE_API_KEY` 값을 발급받은 API 키로 변경

```python
# config.py
YOUTUBE_API_KEY = "여기에_발급받은_API_키_입력"
```

## 사용법

### 프로그램 실행
```bash
python main.py
```

### 1. 영상 검색
1. 검색하고자 하는 키워드 입력
2. 필요한 경우 추가 필터 설정:
   - 영상 유형 (전체/쇼츠/롱폼/20-30분/30-50분/50분 이상)
   - 최소 조회수 (드롭다운에서 선택: 제한 없음, 1,000, 10,000, 50,000, 100,000, 500,000, 1,000,000)
   - 최대 구독자 수 (드롭다운에서 선택: 제한 없음, 1,000, 10,000, 50,000, 100,000, 500,000, 1,000,000, 10,000,000)
   - 업로드 기간
   - 최대 결과 수
3. "검색" 버튼 클릭 후 프로그레스 바로 진행 상황 확인

### 2. 검색 결과 활용
- **정렬**: 컬럼 헤더 클릭으로 오름차순/내림차순 정렬 (제목, 조회수, Outlier Score, 영상 길이, 구독자 수, 채널명)
- **영상 선택**: 영상을 클릭하면 하단에 선택된 영상 정보 표시
- **영상 시청**: 영상 행을 더블클릭하면 YouTube에서 해당 영상 재생
- **채널 분석**: 영상 선택 후 "채널 분석" 버튼 클릭

### 3. 채널 분석 (개선된 체크박스 시스템)
1. 메인 화면에서 분석하고 싶은 영상 선택
2. "채널 분석" 버튼 클릭
3. 새 창에서 해당 채널의 모든 영상 목록 확인
4. **체크박스로 영상 선택**:
   - 각 영상 왼쪽의 체크박스 클릭으로 선택/해제
   - 헤더의 체크박스 클릭으로 전체 선택/해제
   - 우측 하단에 선택된 영상 수 실시간 표시
5. 추출 기능 활용:
   - **전체 선택/선택 해제**: 모든 영상을 한번에 선택하거나 해제
   - **제목 추출**: 선택한 영상들의 정보를 텍스트 파일로 저장
   - **썸네일 추출**: 선택한 영상들의 썸네일을 이미지 파일로 저장
   - **대본 추출**: 선택한 영상들의 자막/대본을 텍스트 파일로 저장 (안정성 개선)

## 주요 특징

### 개선된 사용자 인터페이스 (v2.0)
- **실시간 진행 표시**: 검색 과정을 프로그레스 바와 상세 메시지로 시각화
- **드롭다운 필터**: 조회수와 구독자 수를 드롭다운으로 쉽게 선택
- **시간대별 필터**: 롱폼 영상을 20-30분, 30-50분, 50분 이상으로 세분화
- **체크박스 선택 시스템**: 채널 분석에서 직관적인 체크박스로 영상 선택
- **실시간 선택 표시**: 선택된 영상 정보를 실시간으로 표시
- **정확한 정렬**: 모든 컬럼에서 정확한 오름차순/내림차순 정렬 지원
- **안정성 개선**: 대본 추출 및 파일 처리 안정성 크게 향상

### 성능 최적화
- **병렬 검색**: 다중 페이지 검색을 통한 빠른 결과 제공
- **진행 상황 추적**: 각 단계별 진행 상황을 실시간으로 표시
- **메모리 효율성**: 대용량 데이터 처리 시 메모리 사용량 최적화

### Outlier Score
- 조회수 대비 구독자 수 비율을 기반으로 계산
- 높은 점수일수록 해당 영상이 채널의 일반적인 성과와 다름을 의미
- 바이럴 영상이나 특별히 인기 있는 컨텐츠 발견에 유용

### 스마트 필터링
- 쇼츠: 60초 이하 영상
- 롱폼: 60초 초과 영상
- 구독자 수와 조회수 기반 필터링으로 원하는 규모의 채널 타겟팅 가능

### 자동 대본 추출
- 한국어 자막 우선 추출
- 한국어가 없을 경우 영어 자막 추출
- 수동 자막이 없을 경우 자동 생성 자막 활용

## 파일 구조
```
Youtube_DeepSearch/
├── main.py              # 메인 GUI 애플리케이션
├── youtube_api.py       # YouTube API 관련 함수들
├── config.py           # 설정 및 상수 정의
├── requirements.txt    # 필요한 Python 패키지 목록
└── README.md          # 이 파일
```

## 제한사항 및 주의사항

1. **API 할당량**: YouTube Data API는 일일 할당량이 있습니다. 과도한 사용 시 할당량 초과로 검색이 제한될 수 있습니다.

2. **대본 추출**: 모든 영상에 자막이 있는 것은 아닙니다. 자막이 없는 영상의 경우 대본 추출이 불가능합니다.

3. **네트워크 의존성**: 모든 기능이 인터넷 연결을 필요로 합니다.

4. **저작권**: 추출한 썸네일과 대본은 개인 연구/분석 목적으로만 사용하시기 바랍니다.

## 문제 해결

### API 키 관련 오류
- `config.py` 파일의 API 키가 올바르게 설정되었는지 확인
- Google Cloud Console에서 YouTube Data API v3가 활성화되었는지 확인
- API 키에 대한 사용 제한이 설정되어 있는지 확인

### 검색 결과가 없는 경우
- 키워드를 다르게 시도해보세요
- 필터 조건을 완화해보세요 (최소 조회수 낮추기 등)
- 업로드 기간을 넓혀보세요

### 대본 추출 실패
- 해당 영상에 자막이 제공되지 않을 수 있습니다
- 일부 영상은 자막 접근이 제한될 수 있습니다

## 라이선스
이 프로그램은 교육 및 연구 목적으로 제작되었습니다. YouTube의 이용약관을 준수하여 사용해주세요.
